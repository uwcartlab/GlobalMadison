self.addEventListener('install', (event) => {
    event.waitUntil(
        caches.open('v1').then((cache) => {
            return cache.addAll([
                './audio/intro_1.base64',
                './audio/intro_2.base64',
                './audio/site1.base64',
                './audio/site2.base64',
                './audio/site3.base64',
                './audio/site4.base64',
                './audio/site5.base64',
                './img/site1_1_cl.jpg',
                './img/site1_1_cs.jpg',
                './img/site1_1_hl.jpg',
                './img/site1_1_hs.jpg',
                './img/site1_2_cl.jpg',
                './img/site1_2_cs.jpg',
                './img/site1_2_hl.jpg',
                './img/site1_2_hs.jpg',
                './img/site1_3_cl.jpg',
                './img/site1_3_cs.jpg',
                './img/site1_3_hl.jpg',
                './img/site1_3_hs.jpg',
                './img/site2_1_cl.jpg',
                './img/site2_1_cs.jpg',
                './img/site2_1_hl.jpg',
                './img/site2_1_hs.jpg',
                './img/site2_2_cl.jpg',
                './img/site2_2_cs.jpg',
                './img/site2_2_hl.jpg',
                './img/site2_2_hs.jpg',
                './img/site2_3_cl.jpg',
                './img/site2_3_cs.jpg',
                './img/site2_3_hl.jpg',
                './img/site2_3_hs.jpg',
                './img/site3_1_cl.jpg',
                './img/site3_1_cs.jpg',
                './img/site3_1_hl.jpg',
                './img/site3_1_hs.jpg',
                './img/site3_2_cl.jpg',
                './img/site3_2_cs.jpg',
                './img/site3_2_hl.jpg',
                './img/site3_2_hs.jpg',
                './img/site3_3_cl.jpg',
                './img/site3_3_cs.jpg',
                './img/site3_3_hl.jpg',
                './img/site3_3_hs.jpg',
                './img/site4_1_cl.jpg',
                './img/site4_1_cs.jpg',
                './img/site4_1_hl.jpg',
                './img/site4_1_hs.jpg',
                './img/site4_2_cl.jpg',
                './img/site4_2_cs.jpg',
                './img/site4_2_hl.jpg',
                './img/site4_2_hs.jpg',
                './img/site4_3_cl.jpg',
                './img/site4_3_cs.jpg',
                './img/site4_3_hl.jpg',
                './img/site4_3_hs.jpg',
                './img/site5_1_cl.jpg',
                './img/site5_1_cs.jpg',
                './img/site5_1_hl.jpg',
                './img/site5_1_hs.jpg',
                './img/site5_2_cl.jpg',
                './img/site5_2_cs.jpg',
                './img/site5_2_hl.jpg',
                './img/site5_2_hs.jpg',
                './img/site5_3_cl.jpg',
                './img/site5_3_cs.jpg',
                './img/site5_3_hl.jpg',
                './img/site5_3_hs.jpg',
                './img/splashbackground_desktop.jpg',
                './img/splashbackground.jpg',
                './img/loading.gif',
                './img/icons/alert40_red.png',
                './img/icons/assignment.png',
                './img/icons/coffee24_red.png',
                './img/icons/coffee24.png',
                './img/icons/coffee36.png',
                './img/icons/coffee40_red.png',
                './img/icons/energy24_red.png',
                './img/icons/energy24.png',
                './img/icons/energy36.png',
                './img/icons/energy40_red.png',
                './img/icons/findme.png',
                './img/icons/globe.png',
                './img/icons/globeerror.png',
                './img/icons/headphones.png',
                './img/icons/help.png',
                './img/icons/housing24_red.png',
                './img/icons/housing24.png',
                './img/icons/housing36.png',
                './img/icons/housing40_red.png',
                './img/icons/information.png',
                './img/icons/labor24_red.png',
                './img/icons/labor24.png',
                './img/icons/labor36.png',
                './img/icons/labor40_red.png',
                './img/landmarks.png',
                './img/menu-gray.png',
                './img/menu-white.png',
                './img/text.png',
                './img/icons/transportation24_red.png',
                './img/icons/transportation24.png',
                './img/icons/transportation36.png',
                './img/icons/transportation40_red.png',
                './css/style.css',
                './data/alerts.geojson',
                './data/PointsofInterest.geojson',
                './data/routes.geojson',
                './js/findMeButton.js',
                './js/main.js',
                './lib/bootstrap.css',
                './lib/bootstrap.js',
                './lib/d3.js',
                './lib/jquery-3.6.0.min.js',
                './lib/juxtapose.css',
                './lib/juxtapose.js',
                './lib/leaflet/leaflet-src.esm.js',
                './lib/leaflet/leaflet-src.esm.js.map',
                './lib/leaflet/leaflet-src.js',
                './lib/leaflet/leaflet-src.js.map',
                './lib/leaflet/leaflet.js.',
                './lib/leaflet/leaflet.css',
                './lib/leaflet/leaflet.js.map',
                './lib/leaflet/images/layers-2x.png',
                './lib/leaflet/images/layers.png',
                './lib/leaflet/images/marker-icon-2x.png',
                './lib/leaflet/images/marker-icon.png',
                './lib/leaflet/images/marker-shadow.png',
            ]);
        })
    );
});

self.addEventListener('fetch', (event) => {
    event.respondWith(
        caches.match(event.request).then((response) => {
            console.log(response)
            return response || fetch(event.request);
        })
    );
});